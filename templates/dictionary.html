{% extends 'main.html' %} {% block content %} {% load static %}

<div class="container-fluid px-3 py-3">
  <div class="row mb-3 justify-content-center">
    <div class="col col-lg-6">
      <form class="d-flex sm-1" action="" method="GET">
        <input
          class="form-control me-sm-1"
          type="text"
          placeholder="Search your words..."
          name="search"
        />
        <button class="btn btn-primary my-2 my-sm-0" type="submit">
          Search
        </button>
      </form>
    </div>
  </div>

  {% if request.user.is_authenticated and request.user.is_staff %}
  <div class="row mb-3 justify-content-center">
    <div class="col col-lg-10">
      <a
        href="{% url 'superuser-add-word' %}"
        class="btn btn-primary"
        style="float: right"
      >
        Add Word
      </a>
    </div>
  </div>
  {% endif %}
  <div class="row justify-content-center">
    <div class="col col-lg-2 col-md-4 d-lg-block d-sm-none d-md-block d-none">
      <div class="card border-primary" style="height: 500px">
        <div class="card-header">
          <strong style="font-size: large">Part of Speech</strong>
        </div>
        <div class="card-body">
          <ul>
            <li class="my-3">
              <a href="{% url 'dictionary' %}">All</a>
              ({{all_result.count}})
            </li>
            {% for speech in speeches %}
            <li class="my-3">
              <a href="{% url 'dictionary' %}?search={{speech.speech}}"
                >{{ speech.speech }}</a
              >
              ({{speech.dictionarylist_set.all.count}})
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
    <div class="col col-lg-8 col-md-8">
      {% for word in words %}
      <div class="card border-primary mb-3">
        <div class="card-header">
          <strong style="font-size: xx-large">{{word.pinyin}}</strong> |
          <span>{{word.part_of_speech}}</span>
          {%if request.user.is_authenticated and request.user.is_staff%}
          <div style="float: right">
            <a href="{% url 'superuser-edit-word' word.id %}"
              ><i class="fas fa-edit mx-2"></i
            ></a>
            <a href="{% url 'superuser-delete-word' word.id %}"
              ><i class="fas fa-trash mx-2"></i
            ></a>
          </div>
          {% endif %}
        </div>
        <div class="card-body">
          <h4 class="card-title">Definition of <em>{{word.pinyin}}</em></h4>
          <p class="card-text">{{word.definition}}</p>
          <a
            href="{% url 'dictionary-details' word.id %}"
            class="btn btn-primary"
            style="float: right; clear: after"
            >More Info</a
          >
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<script src="{% static 'js/main.js' %}"></script>
{% endblock content %}
